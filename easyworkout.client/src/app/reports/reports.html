<h2>Reports</h2>

<form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field>
        <mat-label>Chart type</mat-label>
        <mat-select matInput title="Chart type" placeholder="Chart type" formControlName="chartType">
            <mat-option value="totalVolume">Total Volume</mat-option>
        </mat-select>
    </mat-form-field>
    @if (this.form.value.chartType == 'totalVolume') {
        <mat-form-field>
            <mat-label>Weight unit</mat-label>
            <mat-select matInput title="Weight unit" placeholder="Weight unit" formControlName="weightUnit">
                @for (weightUnit of weightUnitOptions; track $index) {
                    <mat-option [value]="weightUnit">{{weightUnit}}</mat-option>
                }
            </mat-select>
        </mat-form-field>
    }
    <button matButton="filled" type="submit">Generate chart</button>
</form>

@if (isChartLoaded()) {
    <div style="display: block; width: 600px;">
        <canvas baseChart
            [options]="lineChartOptions"
            [data]="lineChartData"
            [type]="lineChartType"
            [legend]="lineChartLegend">
        </canvas>
    </div>
}